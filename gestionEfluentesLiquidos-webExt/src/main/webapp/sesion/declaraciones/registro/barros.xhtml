<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>

    </h:head>
    <h:body>
        <p:growl id="messages" showDetail="false" />
        <b:modal id="dlgAyudaBarros" title="Registro de DJ - Barros" styleClass="modalAyudaBarros"
            closable="true" >
                Ayuda Barros, proceso general de registro de los datos correspondientes a los Barros generados
            <f:facet name="footer">
                <b:button value="Cerrar" dismiss="modal" onclick="return false;"/>
            </f:facet>
        </b:modal>
        <b:modal id="dlgAyudaBarrCaracTrat" title="Registro de DJ - Barros - Características y Tratamientos" styleClass="modalAyudaBarrCaracTrat"
            closable="true" >
                Ayuda Barros, características y tratamientos.
            <f:facet name="footer">
                <b:button value="Cerrar" dismiss="modal" onclick="return false;"/>
            </f:facet>
        </b:modal>
        <b:modal id="dlgAyudaBarrDestinos" title="Registro de DJ - Barros - Destino final" styleClass="modalAyudaBarrDestinos"
            closable="true" >
                Ayuda Barros, destino final de los Barros
            <f:facet name="footer">
                <b:button value="Cerrar" dismiss="modal" onclick="return false;"/>
            </f:facet>
        </b:modal>
        
        <!-- Formulario validar Transportista DRP -->
        <b:modal id="dlgBarrValidTransDrp" styleClass="modalBarrValidTransDrp" closable="true" >
            <h:form prependId="false" id="frValidTransDrp">
                <b:panel id="pnValidTransDrp" title="Validar los datos del Transportista en la DRP" look="info" collapsible="false" >
                    <b:row> 
                        <b:column span="10">
                            <b:inputText label="" placeholder="Ingrese el usuario DRP ([CUIT]/[numOrden])" value="#{mbDeclaraciones.usDrp}" />
                        </b:column>
                        <b:column span="2">
                            <b:commandButton action="#{mbDeclaraciones.validarUsuarioDrp(2)}" look="primary" icon="glyphicon-check" value=""
                                     ajax="true" update="messages,frValidTransDrp" />
                        </b:column>
                    </b:row>

                    <h:panelGrid columns="1" style="width: 100%" rendered="#{mbDeclaraciones.expTran.id gt 0}">
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="N° Exp.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expTran.expNumero}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Año Exp.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expTran.expAnio}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="N° CAA.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expTran.caNumero}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Fecha venc. CAA.: " />
                            </b:column>
                            <b:column span="8">
                                <p:calendar disabled="true" label="" value="#{mbDeclaraciones.expTran.caVencimiento.toGregorianCalendar().time}" pattern="dd/MM/yyyy" locale="es" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Us DRP: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expTran.usuario}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Nombre Est.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expTran.nombre}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Descrip.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expTran.descripcion}" />
                            </b:column>
                        </b:row>
                    </h:panelGrid>
                    <b:commandButton value="Actualizar" icon="glyphicon-refresh" look="success" update="frValidTransDrp" />
                    <b:commandButton icon="glyphicon-ok" title="Guardar Transportista validado" action="#{mbDeclaraciones.guardarTransDrp}" look="primary" value="#{mbDeclaraciones.mdGuardarDatosValidDrp}" 
                                     ajax="true" update="@next,frBarrDestinos,messages" process="@this" oncomplete="closeModalBarrValidTransDrp()" />
                    <b:commandButton title="Limpiar los datos del Transportista validado" action="#{mbDeclaraciones.limpiarTransValid}" icon="glyphicon-trash" value="#{mbDeclaraciones.mdLimpiarDatosValidDrp}" 
                                     look="warning" update="frValidTransDrp,frBarrDestinos" />
                    <f:facet name="footer">
                        <b:button value="Cerrar" dismiss="modal" onclick="return false;"/>
                    </f:facet>
                </b:panel>
            </h:form>
        </b:modal>           
        
        <!-- Formulario validar Operador DRP -->
        <b:modal id="dlgBarrValidOpDrp" styleClass="modalBarrValidOpDrp" closable="true" >
            <h:form prependId="false" id="frValidOpDrp">
                <b:panel id="pnValidOpDrp" title="Validar los datos del Operador en la DRP" look="info" collapsible="false" >
                    <b:row>
                        <b:column span="10">
                            <b:inputText label="" placeholder="Ingrese el usuario DRP ([CUIT]/[numOrden])" value="#{mbDeclaraciones.usDrp}" />
                        </b:column>
                        <b:column span="2">
                            <b:commandButton action="#{mbDeclaraciones.validarUsuarioDrp(3)}" look="primary" icon="glyphicon-check" value=""
                                     ajax="true" update="messages,frValidOpDrp" />
                        </b:column>
                    </b:row>

                    <h:panelGrid columns="1" style="width: 100%" rendered="#{mbDeclaraciones.expOp.id gt 0}">
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="N° Exp.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expOp.expNumero}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Año Exp.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expOp.expAnio}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="N° CAA.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expOp.caNumero}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Fecha venc. CAA.: " />
                            </b:column>
                            <b:column span="8">
                                <p:calendar disabled="true" label="" value="#{mbDeclaraciones.expOp.caVencimiento.toGregorianCalendar().time}" pattern="dd/MM/yyyy" locale="es" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Us DRP: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expOp.usuario}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Nombre Est.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expOp.nombre}" />
                            </b:column>
                        </b:row>
                        <b:row>
                            <b:column span="4">
                                <p:outputLabel style="font-weight: lighter; color: gray" value="Descrip.: " />
                            </b:column>
                            <b:column span="8">
                                <b:inputText disabled="true" label="" value="#{mbDeclaraciones.expOp.descripcion}" />
                            </b:column>
                        </b:row>
                    </h:panelGrid>
                    <b:commandButton value="Actualizar" icon="glyphicon-refresh" look="success" update="frValidOpDrp" />
                    <b:commandButton icon="glyphicon-ok" action="#{mbDeclaraciones.guardarOpDrp}" look="primary" value="#{mbDeclaraciones.mdGuardarDatosValidDrp}" 
                                     ajax="true" update="@next,frBarrDestinos,messages" process="@this" oncomplete="closeModalBarrValidOpDrp()" />
                    <b:commandButton action="#{mbDeclaraciones.limpiarOpValid}" icon="glyphicon-trash" value="#{mbDeclaraciones.mdLimpiarDatosValidDrp}" 
                                     look="warning" update="frValidOpDrp,frBarrDestinos" />
                    <f:facet name="footer">
                        <b:button value="Cerrar" dismiss="modal" onclick="return false;"/>
                    </f:facet>
                </b:panel>
            </h:form>
        </b:modal>    
        
        <!-- Panel principal -->
        <b:panel title="Barros" look="info" collapsible="false" style="height: 100%" > 
            <h:form id="frBarrDestinos" prependId="false">
                <b:row>
                    <b:column span="12" >
                        <b:commandButton icon="glyphicon-refresh" update="frBarrDestinos" value="Actualizar" look="success" title="Actualizar para la carga"/>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column span="12" >
                        <!-- Panel Tratamiento -->
                        <b:label tooltip="Indique los datos correspondientes al tratamiento de los Barros. Si los Barros son retirados por un Transportista registrado en la DRP, activar 'ON' para seleccionar sus datos." 
                                 text="Características y Tratamientos" severity="info"/>
                        <b:panel collapsible="false" look="info">
                            <b:row>
                                <b:column span="6" >
                                    <b:row>
                                        <b:column span="12" >
                                            <b:switch disabled="#{mbDeclaraciones.declaracion.firmante ne null}" value="#{mbDeclaraciones.barro.retiraTransDrp}" label="" caption="Seleccionar Transportista DRP" 
                                                      onchange="ajax:mbDeclaraciones.habilitarTransDrp()" >
                                                <p:ajax event="change" update="dlgBarrValidTransDrp,frBarrDestinos"/>
                                            </b:switch>
                                            <b:button onclick="$('.modalAyudaBarrCaracTrat').modal();return false;" 
                                                      size="xs" look="warning" value="Ayuda" style="margin-bottom: 10px"/>
                                            <b:commandButton disabled="#{mbDeclaraciones.habilitaTransDrp or mbDeclaraciones.declaracion.firmante ne null}" title="Validar DRP" oncomplete="$('.modalBarrValidTransDrp').modal();return false;" 
                                                             size="xs" look="primary" value="#{mbDeclaraciones.mdAgregar}" icon="glyphicon-new-window" 
                                                             style="margin-bottom: 10px" ajax="true" />
                                            <b:commandButton disabled="#{mbDeclaraciones.habilitaTransDrp or mbDeclaraciones.declaracion.firmante ne null}" title="Actualizar listado"
                                                             ajax="true" size="xs" look="default" value="#{mbDeclaraciones.mdActualizar}" 
                                                             icon="glyphicon-refresh" style="margin-bottom: 10px" >
                                                <p:ajax update="frBarrDestinos" />
                                            </b:commandButton> 
                                        </b:column>
                                    </b:row>
                                    <b:row rendered="#{mbDeclaraciones.barro.transpDrp.expNum gt 0}">
                                        <b:column span="12" >
                                            <b:row>
                                                <b:column span="4">
                                                    <b:inputText disabled="true" label="Número CAA: " value="#{mbDeclaraciones.barro.transpDrp.caaNum}" />
                                                </b:column>
                                                <b:column span="3">
                                                    <p:outputLabel style="font-size: 14px;font-weight: lighter" value="Vencimiento: " />
                                                    <p:calendar disabled="true" label="" value="#{mbDeclaraciones.barro.transpDrp.caaFechaVenc}" pattern="dd/MM/yyyy" locale="es" />
                                                </b:column>
                                            </b:row>
                                            <b:row>
                                                <b:column span="3">
                                                    <b:inputText disabled="true" label="Exp DRP: " value="#{mbDeclaraciones.barro.transpDrp.expNum}" />
                                                    <b:inputText disabled="true" label="Año DRP: " value="#{mbDeclaraciones.barro.transpDrp.expAnio}" />
                                                </b:column>
                                                <b:column span="9">
                                                    <b:inputText disabled="true" label="Usuario DRP: " value="#{mbDeclaraciones.barro.transpDrp.usDrp}" />
                                                    <b:inputText disabled="true" label="Nombre: " value="#{mbDeclaraciones.barro.transpDrp.nombreDrp}" />
                                                </b:column>
                                            </b:row>
                                        </b:column>
                                    </b:row>
                                </b:column>
                                <b:column span="6" >
                                    <b:row>
                                        <b:column span="6">
                                            <b:inputText label="Volumen (m3/día): " value="#{mbDeclaraciones.barro.volumen}" >
                                            </b:inputText>
                                        </b:column>
                                        <b:column span="6">
                                            <b:inputText label="Humedad (%): " value="#{mbDeclaraciones.barro.porcentaje}" >
                                            </b:inputText>
                                        </b:column>
                                    </b:row>
                                    <b:row>
                                        <b:column span="6">
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.deshidratacion}" label="" 
                                                caption="Deshidratación" disabled="#{not mbDeclaraciones.habilitaTransDrp}"/>
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.estabilizacion}" label="" 
                                                caption="Estabilización" disabled="#{not mbDeclaraciones.habilitaTransDrp}"/>
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.desinfeccion}" label="" 
                                                caption="Desinfección" disabled="#{not mbDeclaraciones.habilitaTransDrp}"/>
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.otrosTratamiento}" label="" 
                                                caption="Otro tratamiento" disabled="#{not mbDeclaraciones.habilitaTransDrp}" 
                                                onchange="ajax:mbDeclaraciones.habilitarOtroTrat()" >
                                                <p:ajax event="change" update="txtBarrDetOtroTrat"/>
                                            </b:selectBooleanCheckbox>
                                        </b:column>
                                        <b:column span="6">
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.retiraMediosPropios}" label="" 
                                                caption="Retira med. propios" disabled="#{not mbDeclaraciones.habilitaTransDrp}"/>
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.retiraOtrosMedios}" label="" 
                                                caption="Retira otros medios" disabled="#{not mbDeclaraciones.habilitaTransDrp}" 
                                                onchange="ajax:mbDeclaraciones.habilitarOtrosMedios()" >
                                                <p:ajax event="change" update="txtBarrDetOtrosMedios"/>
                                            </b:selectBooleanCheckbox>
                                        </b:column>
                                    </b:row>
                                    <b:row>
                                        <b:column span="12" >
                                            <b:inputText id="txtBarrDetOtroTrat" placeholder="Detallar otros tratamientos" label="Detalle otro tratamiento:" 
                                                         value="#{mbDeclaraciones.barro.descOtroTratamiento}" disabled="#{not mbDeclaraciones.otroTratamiento}" />
                                            <b:inputText id="txtBarrDetOtrosMedios" placeholder="Especificar otros medios de retiro" label="Detalle otros medios de retiro" 
                                                         value="#{mbDeclaraciones.barro.descOtrosMedios}" disabled="#{not mbDeclaraciones.otrosMedios}" />
                                        </b:column>
                                    </b:row>
                                </b:column>
                            </b:row>
                            <b:row rendered="#{mbDeclaraciones.barro.transpDrp.expNum gt 0}">
                                <b:column span="12">
                                    <b:inputText disabled="true" label="Descripción: " value="#{mbDeclaraciones.barro.transpDrp.descDrp}" />
                                </b:column>
                            </b:row>
                        </b:panel>
                        
                        <!-- Panel Destino final -->
                        <b:label tooltip="Indique los datos correspondientes al destino final de los Barros. Si los Barros son tratados por un Operador registrado en la DRP, activar 'ON' para seleccionar sus datos." 
                                 text="Destino final" severity="info"/>
                        <b:panel collapsible="false" look="info">
                            <b:row>
                                <b:column span="6" >
                                    <b:row>
                                        <b:column span="12" >
                                            <b:switch disabled="#{mbDeclaraciones.declaracion.firmante ne null}" value="#{mbDeclaraciones.barro.trataOpDrp}" label="" caption="Seleccionar Operador DRP" 
                                                      onchange="ajax:mbDeclaraciones.habilitarOpDrp()" >
                                                <p:ajax event="change" update="dlgBarrValidOpDrp,frBarrDestinos"/>
                                            </b:switch>
                                            <b:button onclick="$('.modalAyudaBarrDestinos').modal();return false;" 
                                                      size="xs" look="warning" value="Ayuda" style="margin-bottom: 10px"/>
                                            <b:commandButton disabled="#{mbDeclaraciones.habilitaOpDrp or mbDeclaraciones.declaracion.firmante ne null}" title="Validar DRP" oncomplete="$('.modalBarrValidOpDrp').modal();return false;" 
                                                             size="xs" look="primary" value="#{mbDeclaraciones.mdAgregar}" icon="glyphicon-new-window" 
                                                             style="margin-bottom: 10px" ajax="true" />
                                            <b:commandButton disabled="#{mbDeclaraciones.habilitaOpDrp or mbDeclaraciones.declaracion.firmante ne null}" title="Actualizar listado"
                                                             ajax="true" size="xs" look="default" value="#{mbDeclaraciones.mdActualizar}" 
                                                             icon="glyphicon-refresh" style="margin-bottom: 10px" >
                                                <p:ajax update="frBarrDestinos" />
                                            </b:commandButton> 
                                        </b:column>
                                    </b:row>
                                    <b:row rendered="#{mbDeclaraciones.barro.operadorDrp.expNum gt 0}">
                                        <b:column span="12" >
                                            <b:row>
                                                <b:column span="4">
                                                    <b:inputText disabled="true" label="Número CAA: " value="#{mbDeclaraciones.barro.operadorDrp.caaNum}" />
                                                </b:column>
                                                <b:column span="3">
                                                    <p:outputLabel style="font-size: 14px;font-weight: lighter" value="Vencimiento: " />
                                                    <p:calendar disabled="true" label="" value="#{mbDeclaraciones.barro.operadorDrp.caaFechaVenc}" pattern="dd/MM/yyyy" locale="es" />
                                                </b:column>
                                            </b:row>
                                            <b:row>
                                                <b:column span="3">
                                                    <b:inputText disabled="true" label="Exp DRP: " value="#{mbDeclaraciones.barro.operadorDrp.expNum}" />
                                                    <b:inputText disabled="true" label="Año DRP: " value="#{mbDeclaraciones.barro.operadorDrp.expAnio}" />
                                                </b:column>
                                                <b:column span="9">
                                                    <b:inputText disabled="true" label="Usuario DRP: " value="#{mbDeclaraciones.barro.operadorDrp.usDrp}" />
                                                    <b:inputText disabled="true" label="Nombre: " value="#{mbDeclaraciones.barro.operadorDrp.nombreDrp}" />
                                                </b:column>
                                            </b:row>
                                        </b:column>
                                    </b:row>
                                </b:column>
                                <b:column span="6" >
                                    <b:row>
                                        <b:column span="6" >
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.destLandFarming}" label="" 
                                                caption="Landfarming" disabled="#{not mbDeclaraciones.habilitaOpDrp}"/>
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.destInsumo}" label="" 
                                                                     caption="Uso como insumo" disabled="#{not mbDeclaraciones.habilitaOpDrp}"
                                                                     onchange="ajax:mbDeclaraciones.habilitarInsumo()">
                                                <p:ajax event="change" update="txtBarrDetUso"/>
                                            </b:selectBooleanCheckbox>
                                        </b:column>
                                        <b:column span="6" >
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.destRellSanitario}" label="" 
                                                caption="Relleno sanitario" disabled="#{not mbDeclaraciones.habilitaOpDrp}"/>
                                            <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.destOtros}" label="" 
                                                                     caption="Otros" disabled="#{not mbDeclaraciones.habilitaOpDrp}" 
                                                                     onchange="ajax:mbDeclaraciones.habilitarOtros()">
                                                <p:ajax event="change" update="txtBarrDetOros"/>
                                            </b:selectBooleanCheckbox>
                                        </b:column>
                                    </b:row>
                                    <b:row>
                                        <b:column span="12" >
                                            <b:inputText id="txtBarrDetUso" placeholder="Detallar uso de los barros" label="Uso como insumo" 
                                                         value="#{mbDeclaraciones.barro.usoComoInsumo}" disabled="#{not mbDeclaraciones.usoInsumo}" />
                                            <b:inputText id="txtBarrDetOros" placeholder="Especificar otros destinos" label="Detalle otros" 
                                                         value="#{mbDeclaraciones.barro.especifOtroDestino}" disabled="#{not mbDeclaraciones.otroDestino}" />
                                        </b:column>
                                    </b:row>
                                </b:column>
                            </b:row>
                            <b:row rendered="#{mbDeclaraciones.barro.operadorDrp.expNum gt 0}">
                                <b:column span="12">
                                    <b:inputText disabled="true" label="Descripción: " value="#{mbDeclaraciones.barro.operadorDrp.descDrp}" />
                                </b:column>
                            </b:row>
                        </b:panel>
                    </b:column>
                </b:row>

                <b:row>
                    <b:column span="12" >
                        <b:label tooltip="Indique otros componentes de los Barros y si adjunta copia de protocolo" 
                                 text="Carcaterística complementarias" severity="info"/>
                        <b:panel collapsible="false" look="info">
                            <b:row>
                                <b:column span="6" >
                                    <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.contieneElemAnexoD}" label="" 
                                                             caption="Indicar si los barros contienen los compuestos o las características de origen listados en las Tablas Nº 1 y Nº 2 del Anexo I de la Resolución MDSMA Nº 097/2001 – Ver Anexo D del Instructivo" />
                                </b:column>
                                <b:column span="6" >
                                    <b:selectBooleanCheckbox value="#{mbDeclaraciones.barro.adjuntaProtocolo}" label="" 
                                                             caption="CARACTERIZACIÓN DE BARROS: ADJUNTA COPIA DE PROTOCOLO" />
                                </b:column>
                            </b:row>
                        </b:panel>
                    </b:column>
                </b:row>

                <b:row>
                    <b:column span="12" >
                        <b:button onclick="$('.modalAyudaBarros').modal();return false;" size="sm" look="warning" value="Ayuda" />
                        <b:commandButton disabled="#{mbDeclaraciones.declaracion.firmante ne null}" icon="glyphicon-ok" rendered="#{not mbDeclaraciones.datosBarros}" 
                                         title="Guardar las carcterísticas de los Barros en la Declaración" size="sm" 
                                         action="#{mbDeclaraciones.createBarros()}" 
                                         look="primary" value="#{mbDeclaraciones.barrGuardar}" ajax="true" update="frNav,frBarrDestinos,messages" />
                        <b:commandButton disabled="#{mbDeclaraciones.declaracion.firmante ne null}" icon="glyphicon-trash" rendered="#{not mbDeclaraciones.datosBarros}" 
                                         title="Limpiar las características de los Barros de la Declaración" size="sm" 
                                         action="#{mbDeclaraciones.limpiarBarros()}" 
                                         look="danger" value="#{mbDeclaraciones.barrLimpiar}" 
                                         ajax="true" update="@next,frValidTransDrp,frValidOpDrp,frBarrDestinos,messages" />
                        <b:commandButton disabled="#{mbDeclaraciones.declaracion.firmante ne null}" icon="glyphicon-ok" rendered="#{mbDeclaraciones.datosBarros}" 
                                         title="Actualizar las caracterísicas de los Barros de la Declaración" size="sm" 
                                         action="#{mbDeclaraciones.editBaros()}" look="primary" 
                                         value="#{mbDeclaraciones.barrActualizar}" ajax="true" update="messages" />
                        <b:commandButton disabled="#{mbDeclaraciones.declaracion.firmante ne null}" icon="glyphicon-trash" rendered="#{mbDeclaraciones.datosBarros}" 
                                         title="Eliminar las características de los Barros de la Declaración" size="sm" 
                                         action="#{mbDeclaraciones.deleteBarros()}" look="danger" 
                                         value="#{mbDeclaraciones.barrEliminar}" ajax="true" update="frNav,frValidTransDrp,frValidOpDrp,frBarrDestinos" />
                    </b:column>
                </b:row>
            </h:form>
        </b:panel>
    </h:body>
    <script type="text/javascript">
        function habilitarOpDRP(){
            if(#{mbDeclaraciones.habilitaOpDrp}){
                
                alert(#{mbDeclaraciones.habilitaOpDrp});
            }else{
                alert('habilitando');
                habilitado = true;
            }    
        }
        
        function closeModalBarrValidTransDrp() {
            $('.modalBarrValidTransDrp').modal('hide');
        }
        
        function closeModalBarrValidOpDrp() {
            $('.modalBarrValidOpDrp').modal('hide');
        }
    </script>
</html>